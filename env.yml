name: edge-env
channels:
  - conda-forge
  - pytorch
dependencies:
  # Core language & tooling
  - python=3.10
  - pip
  - ipykernel
  # Scientific Python stack
  - numpy>=1.25
  - pandas>=2.1
  - scipy
  - pyarrow>=15.0
  # ML / DL
  - pytorch::pytorch=2.1.*
  - pytorch::torchvision=0.16.*
  - pytorch::torchaudio=2.1.*
  # Linting & Testing
  - black
  - isort
  - pytest
  - pytest-cov
  # Ray ecosystem & graph ML pip wheels
  - pip:
      - ray[default,air,data,train,serve]==2.9.0
      # Graph learning stack
      - torch-geometric==2.5.2
      - pyg-lib>=0.4.0
      - torch-scatter>=2.1.2
      - torch-sparse>=0.6.18
      - torch-cluster>=1.6.3
      # Application utilities
      - typer[all]==0.9.0
      - rich>=13.7
      - jinja2>=3.1
      - scikit-learn>=1.4
      - pydantic>=2.6
      - pre-commit>=3.6
      - prometheus-client>=0.20
      - opentelemetry-sdk==1.24.0
      - opentelemetry-exporter-otlp==1.24.0
      - opentelemetry-instrumentation-fastapi==0.44b0
      - opentelemetry-instrumentation-asgi==0.44b0
      - PyJWT>=2.8
      - slowapi>=0.1.8
      - limits>=3.5
      - requests
      - fsspec>=2024.3.0
  - cudatoolkit=11.8  # GPU optional; installs CPU stub on non-GPU boxes

# Lock reproducibility via explicit channel sources & versions.
# To create the env:  conda env create -f env.yml && conda activate edge-env
# For Update:         conda env update -f env.yml --prune
